<!DOCTYPE html>
<html>
  <body>
    <section class="page" id="companies">
      <div class="container">

        <h2>Yritykset</h2>

        <table data-test-id="corporations-table">
          <thead>
            <tr>
              <th>Yritys</th>
              <th>Y-tunnus</th>
              <th>Osoite</th>
              <th>Postinumero</th>
              <th>Postitoimipaikka</th>
              <th>Tilityyppi</th>
              <th>K&auml;ytt&auml;j&auml;m&auml;r&auml;</th>
              <th>Toiminnot</th>
            </tr>
          </thead>
          <tbody data-bind="foreach: { data: companiesModel.companies, as: 'company' }">
            <tr data-bind="attr: {'data-test-id': 'company-row-' + company.id}">
              <td data-bind="text: company.name"></td>
              <td data-bind="text: company.y"></td>
              <td><span data-bind="text: company.address1"></span></td>
              <td data-bind="text: company.zip"></td>
              <td data-bind="text: company.po"></td>
              <td data-bind="text: loc('register.company.' + company.accountType + '.title')"></td>
              <td data-bind="text: company.userLimit"></td>
              <td><a data-bind="click: company.openDialog" data-test-id="company-edit">Muokkaa</a></td>
            </tr>
          </tbody>
        </table>

        <button class="positive" data-bind="visible: false, click: companiesModel.create">Luo uusi yritys</button>

      </div>
      <div id="dialog-create-company" class="window autosized" data-bind="with: createCompanyModel">
        <div class="dialog-header">
          <p>Uusi yritys</p>
          <p class="dialog-close close lupicon-remove"></p>
        </div>

        <div class="dialog-content">
          <div>
            <label class="form-label tip" data-bind="ltext: 'register.company.form.companyName'"></label>
            <input class="form-input text" data-bind="textInput: model().name" data-test-id="register-company-name" type="text"/>
           </div>
          <div>
            <label class="form-label tip" data-bind="ltext: 'register.company.form.companyY'"></label>
            <input class="form-input text" data-bind="textInput: model().y" data-test-id="register-company-y" type="text" placeholder="0001234-3"/>
          </div>
          <div class="form-entry">
            <label class="form-label" data-bind="ltext: 'register.company.form.billing.address'"></label>
            <input class="form-input text" data-bind="value: model().address1" data-test-id="register-company-address1" type="text"/>
          </div>
          <div>
            <label class="form-label" data-bind="ltext: 'register.company.form.billing.po'"></label>
            <input class="form-input text" data-bind="value: model().po" data-test-id="register-company-po" type="text"/>
          </div>

          <div>
            <label class="form-label" data-bind="ltext: 'register.company.form.billing.zip'"></label>
            <input class="form-input text" data-bind="value: model().zip" data-test-id="register-company-zip" type="text"/>
          </div>

          <h3>P&auml;&auml;k&auml;ytt&auml;j&auml;, oltava jo rekister&ouml;itynyt hakijaksi!</h3>
          <div>
            <label class="form-label tip" data-bind="ltext: 'register.company.form.email'"></label>
            <input class="form-input text" data-bind="textInput: model().email" data-test-id="register-company-email" type="text" placeholder="etu.suku@yritys.fi"/>
          </div>

          <div data-bind="visible: errorMessage" >
            <div data-bind="ltext: errorMessage" class="context-error"></div>
          </div>

          <button data-bind="ltext: 'ok', enable: model.isValid, click: save"
                  data-test-id="create-company"
                  class="positive btn-dialog" ></button>

          <a data-bind="ltext: 'cancel'" class="btn-dialog close" href="#"></a>
        </div>
      </div>
    </section>
  </body>
</html>
