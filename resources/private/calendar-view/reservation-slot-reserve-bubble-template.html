<script class="ko-template" type="text/x-jquery-tmpl" id="reservation-slot-reserve-bubble-template">
  <div class="calendar-slot-bubble"
       data-bind="style: { position: 'absolute',
                           top: positionTop,
                           'z-index': 1000 },
                  css: weekdayCss ">

    <bubble-dialog params="visible: bubbleVisible,
                           buttonIcon: 'lupicon-save',
                           buttonText: 'application-guests.send',
                           okEnabled: okEnabled,
                           okFun: send,
                           error: error,
                           prefix: 'reservation-slot-reserve',
                           waiting: waiting">
      <!--ko if: $parent.slot-->
      <div>
        <h3 data-bind="ltext: 'calendar.reserve-slot.title'"></h3>

        <div class="form-grid no-padding" style="min-width: 450px">
          <div class="row">
            <div class="col-1">
              <span data-bind="ltext: 'application.calendar.reservation.time'"></span>:
            </div>
            <div class="col-3">
              <span data-bind="dateTimeString: $parent.slot().startTime"></span>&nbsp;-&nbsp;<span data-bind="text: $parent.endHour"></span>
            </div>
          </div>

          <div class="row">
            <div class="col-1">
              <span data-bind="ltext: 'application.calendar.reservation.location'"></span>:
            </div>
            <div class="col-3">
              <!-- ko if: lupapisteApp.models.currentUser.isApplicant -->
              <span data-bind="text: $parent.location" style="width: 100%"></span>
              <!-- /ko -->
              <!-- ko ifnot: lupapisteApp.models.currentUser.isApplicant -->
              <input type="text" data-bind="textInput: $parent.location" style="width: 100%"/>
              <!-- /ko -->
            </div>
          </div>

          <div class="row">
            <div class="col-1">
              <span data-bind="ltext: 'application.calendar.reservation-type'"></span>:
            </div>
            <div class="col-3" data-bind="with: $parent.reservationType">
              <span data-bind="text: name"></span>
            </div>
          </div>

          <div class="row">
            <div class="col-1">
              <span data-bind="ltext: 'application.calendar.reservation.participants'"></span>:
            </div>
            <div class="col-3">
              <!--ko if: $parent.client-->
                <span data-bind="text: $parent.clientDisplayText()" style="display: block"></span>
              <!--/ko-->
              <!--ko if: $parent.authority-->
                <span data-bind="text: $parent.authorityDisplayText()" style="display: block"></span>
              <!--/ko-->
            </div>
          </div>

          <div class="row">
            <div class="col-1">
              <span data-bind="ltext: 'application.calendar.reservation.additional.information'"></span>:
            </div>
            <div class="col-3">
              <textarea data-bind="textInput: $parent.comment" data-test-id="reservation-comment-textarea">
              </textarea>
            </div>
          </div>

        </div>

      </div>
      <!--/ko-->
    </bubble-dialog>
  </div>
</script>
